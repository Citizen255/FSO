<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    #searchInput {
      width: 100%;
      box-sizing: border-box;
      margin: 0;
      padding: 10px;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

  <input type="text" id="searchInput" placeholder="Search Games, DLC, Updates">
  <div id="checkboxContainer"></div>
  <ul id="suggestions"></ul>

  <script>
    consoles = ['PS', 'PS2', 'PS3', 'PS4', 'PS5',
                'XBOX', 'XBOX 360', 'XBOX ONE', 'XBOX SERIES',
                'N64', 'GameCube', 'Wii', 'Wii U',
                'PSP', 'PS Vita',
                'GB', 'GBC', 'GBA',
                'DS', '3DS', 'N3DS', 'Switch']
    
    // Get the container element
    const checkboxContainer = document.getElementById("checkboxContainer");

    // Loop through the list and create a checkbox for each string
    consoles.forEach((text, index) => {
      // Create checkbox element
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.id = `checkbox${index}`;
      checkbox.value = text;

      // Create label element for the checkbox
      const label = document.createElement('label');
      label.htmlFor = `checkbox${index}`;
      label.appendChild(document.createTextNode(text + ':'));

      // Append checkbox and label to the container
      checkboxContainer.appendChild(label);
      checkboxContainer.appendChild(checkbox);

      // Add a line break for better spacing
      //checkboxContainer.appendChild(document.createElement('br'));
    });
    
    function filterKeysByString(dictionary, filterString) {
      const filteredKeys = Object.keys(dictionary).filter(key => key.toLowerCase().includes(filterString));
      return filteredKeys;
    }
    
    const games = {
      'Little Big Planet': ['660f08f941b7b3c54801d500a17a8bd742b20f4e', 2],
      'Little Big Planet 2': ['8b7fbe7c0329662d88abc94fafab02bbe3705966', 2],
      'Little Big Planet 3': ['7f752d5bced401ee5d10e243bc55513ff07a3b76', 2],
      'Grand Theft Auto 5': ['770962896251a8bb3666ffffaae80b3f33b27e5a', 2],
      'New Super Mario Bros': ['a91947febb9b24b66e2658e2d3ee3ad4638fe623', 18],
      'Grand Theft Auto Advance': ['986a4ba4fcdff043bfe210f883d3b1bb7c65d69b', 17],
      'Mario Kart 8 Deluxe': ['c150a8585a55482cd7816ffdf64dca9a736d558f', 21]
      // Add more key-value pairs as needed
    };

    $(document).ready(function () {
      const searchInput = $("#searchInput");
      const suggestionsList = $("#suggestions");
      
      searchInput.on("input", function () {
        const searchTerm = searchInput.val().toLowerCase();
        const matchingKeys = filterKeysByString(games, searchTerm);
        
        // Clear previous suggestions
        suggestionsList.empty();

        // Display matching keys in the suggestions list as links
        matchingKeys.forEach(key => {
          suggestionsList.append(`<li key="${key}"><a href="magnet:?xt=urn:btih:${games[key][0]}">${key} (${consoles[games[key][1]]})</a></li>`);
        });
      });
    });
  </script>

</body>
</html>
